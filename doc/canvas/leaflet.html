<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Leaflet</title>
    <link rel="stylesheet" href="http://cdn.leafletjs.com/leaflet/v1.0.0-rc.1/leaflet.css" />
    <style>
        #mapid { height: 400px; }
    </style>
</head>
<body>
    <div id="mapid"></div>


    <script src="http://cdn.leafletjs.com/leaflet/v1.0.0-rc.1/leaflet.js"></script>
    <script src="../../app/renderer/lib/jquery-3.0.0.js"></script>
    <script src="../../app/renderer/lib/topojson.v1.min.js"></script>
    <script>

        var mymap = L.map('mapid', {
            renderer: L.canvas()
        }).setView([34, 108], 5);

        // L.tileLayer('https://api.tiles.mapbox.com/v4/{id}/{z}/{x}/{y}.png?access_token=pk.eyJ1IjoibWFwYm94IiwiYSI6ImNpandmbXliNDBjZWd2M2x6bDk3c2ZtOTkifQ._QA7i5Mpkd_m30IGElHziw', {
		// 	maxZoom: 18,
		// 	attribution: 'Map data &copy; <a href="http://openstreetmap.org">OpenStreetMap</a> contributors, ' +
		// 		'<a href="http://creativecommons.org/licenses/by-sa/2.0/">CC-BY-SA</a>, ' +
		// 		'Imagery Â© <a href="http://mapbox.com">Mapbox</a>',
		// 	id: 'mapbox.streets'
		// }).addTo(mymap);


        // TopoJSON
        L.TopoJSON = L.GeoJSON.extend({
            addData: function (data) {
                var geojson, key;
                if (data.type === "Topology") {
                    for (key in data.objects) {
                        if (data.objects.hasOwnProperty(key)) {
                            geojson = topojson.feature(data, data.objects[key]);
                            L.GeoJSON.prototype.addData.call(this, geojson);
                        }
                    }

                    return this;
                }

                L.GeoJSON.prototype.addData.call(this, data);

                return this;
            }
        });
        L.topoJson = function (data, options) {
            return new L.TopoJSON(data, options);
        };


        // load
        const style = {
            "color": "#ff7800",
            "weight": 1,
            // fillColor
        }

        $.getJSON('http://127.0.0.1:8080/tmp/world-50m.json', function(data) {
            L.topoJson(data, {
                style
            }).addTo(mymap)
        })

        $.getJSON('http://127.0.0.1:8080/tmp/china_province.json', function(data) {
            L.geoJson(data, {
                style
            }).addTo(mymap)
        })

    </script>
</body>
</html>